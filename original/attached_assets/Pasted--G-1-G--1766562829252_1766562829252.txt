**# 新規事業開発「G法」自動化・プロジェクト管理プラットフォーム開発指示書**

**## 1. プロジェクト概要**
提供されたマニュアル「G法」に基づき、事業仮説の生成から評価までのプロセスを自動化し、それらをプロジェクト単位で管理できるWebアプリケーションを開発してください。
ユーザーはプロジェクトを作成し、そこに「前提資料（アセット）」を登録することで、それらを組み合わせて何度でも仮説生成（シミュレーション）を行うことができます。

**## 2. コア機能とデータモデル**

アプリケーションは以下の階層構造を持つ**プロジェクト管理型**のアーキテクチャにしてください。

**A. プロジェクト (Projects)**

* 最上位の管理単位。
* 属性: プロジェクト名、説明、作成日。

**B. リソース管理 (Resources / Assets)**

* 各プロジェクトに紐づく入力データ。ユーザーは一度アップロードすれば、以後の生成プロセスで何度でも再利用できる。
* **タイプ1: ターゲット指定 (Target Spec)** - Step 0で作成されたテキスト。
* **タイプ2: 技術資産リスト (Technical Assets)** - Step 1で作成されたJSON/テキスト。

**C. 仮説生成実行 (Hypothesis Runs)**

* プロジェクト内で、リソースを選択して実行した「G法プロセス（Step 2〜5）」の履歴。
* 属性: 実行日時、使用したリソースID、生成された全成果物（各ステップのレポート）、最終的な統合リスト。

**## 3. 画面構成 (UI/UX)**

**1. ダッシュボード (トップ画面)**

* プロジェクトの一覧表示（カードまたはリスト形式）。
* 「新規プロジェクト作成」ボタン（モーダルで名前と説明を入力）。

**2. プロジェクトワークスペース (詳細画面)**
この画面には以下の3つのセクションを配置してください。

* **セクション①：リソース設定 (Configuration)**
* 「ターゲット指定テキスト」の登録・一覧表示エリア。
* 「技術資産リスト」の登録・一覧表示エリア。
* ※ファイルのアップロード機能と、登録済みファイルの内容プレビュー機能を実装。


* **セクション②：プロセス実行 (Execution Panel)**
* **ファイルアップロードボタンは配置しないこと。**
* 代わりに、セクション①で登録されたリソースから選択する **2つのセレクトボックス (Dropdown)** を配置。
* 「ターゲット指定を選択」
* 「技術資産リストを選択」


* 「仮説生成プロセスを開始 (Run G-Method)」ボタン。


* **セクション③：実行履歴と成果物 (History & Outputs)**
* 過去の実行結果リスト（Status: 処理中/完了/エラー）。
* 完了したものをクリックすると、各ステップ（Step 2〜5）のレポート詳細が表示される。
* **「統合リスト (Step 5結果)」を Excel または TSV でダウンロードするボタン。**



**## 4. バックエンド処理ロジック (The G-Method Pipeline)**

「実行」ボタンが押されたら、Gemini 3.0 Pro (または利用可能な最高性能モデル) を使用して、以下のフローを順次実行してください。
**※各ステップの「システム指令（プロンプト）」は、添付した4つのWordファイル（2_..., 3_..., 4_..., 5_...）の内容をそのまま使用してください。**

1. **Step 2 (提案):**
* 入力: DBから取得した「ターゲット指定」と「技術資産リスト」のテキスト。
* システム指令: ファイル `2_提案_複数仮説版_Gemini用.docx` の内容。
* 機能: **Google Search Grounding (Web検索)** を有効化して実行。


2. **Step 3 (科学評価):**
* 入力: 「技術資産リスト」 + 「Step 2の出力」。
* システム指令: ファイル `3_評価_科学×経済的妥当性_複数仮説版.docx` の内容。


3. **Step 4 (戦略監査):**
* 入力: 「技術資産リスト」 + 「Step 2の出力」 + 「Step 3の出力」。
* システム指令: ファイル `4_評価_キャッチアップ難易度_複数仮説版.docx` の内容。


4. **Step 5 (統合):**
* 入力: 「Step 2, 3, 4 の全出力テキスト」。
* システム指令: ファイル `5_抽出_一括＆複数仮説版.docx` の内容。
* 処理: 生成されたTSVデータを解析し、構造化データとしてDBに保存。



**## 5. 技術要件**

* **AI Model:** Google Gemini 3.0 Pro (なければ 1.5 Pro)。Long Context Window必須。
* **Database:** PostgreSQL または SQLite（永続化のため）。Replit DBなどのKVSは不可。
* **File Parsing:** Word (.docx) ファイルのテキスト抽出機能を実装すること。

